/* ==== PDF / Print Theme ==== */
@media print {
  /* Make sure colors render (Chrome/Edge) */
  * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }

  /* Hide interactive-only bits */
  #icdce ._stickybar,
  #icdce #icdce_unlocked,
  #icdce ._modalBackdrop,
  #icdce button,
  #icdce input[type=range] + ._badge { display:none !important; }

  /* Page */
  @page {
    size: A4;               /* or 'letter' if you prefer */
    margin: 18mm 14mm 18mm; /* generous margins for a pro look */
  }

  /* Overall container */
  #icdce { background:#fff !important; padding:0 !important; }
  #icdce ._wrap { max-width:none !important; margin:0 !important; padding:0 !important; }
  #icdce ._panel { box-shadow:none !important; border:none !important; padding:0 !important; }

  /* Brand header (shown only on print) */
  #pdf_header {
    display:flex !important;
    align-items:flex-start;
    justify-content:space-between;
    gap:16px;
    padding:0 0 10px 0;
    border-bottom:3px solid var(--secondary-color);
  }
  #pdf_header ._left ._title {
    font:700 20px/1.2 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:var(--secondary-color);
    margin:0 0 4px 0;
  }
  #pdf_header ._left ._subtitle {
    font:500 12px/1.4 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#334155;
    margin:0;
  }
  #pdf_header ._right {
    text-align:right;
    font:500 12px/1.4 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#334155;
  }
  #pdf_header ._badge {
    display:inline-block;
    background:linear-gradient(180deg, var(--primary-color), var(--primary-700));
    color:#fff; border-radius:999px; padding:6px 10px; font-weight:700;
  }

  /* Cards → condensed, two-column summary */
  .pdf-summary {
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
    margin:12px 0 16px 0;
  }
  .pdf-summary ._card {
    border:1px solid var(--border-color);
    background:#fff;
    padding:10px 12px;
    border-radius:10px;
  }
  .pdf-summary ._card h3 {
    margin:0 0 6px 0;
    font-size:11px; letter-spacing:.08em; text-transform:uppercase;
    color:var(--secondary-color);
  }
  .pdf-summary ._big { font-size:20px; font-weight:800; color:var(--secondary-color); }
  .pdf-summary ._small { font-size:11px; color:#475569; }

  /* Assumptions → clean chips/grid */
  .pdf-assumptions {
    display:flex; flex-wrap:wrap; gap:8px;
    list-style:none; margin:10px 0 16px 0; padding:0;
  }
  .pdf-assumptions li {
    font:500 11.5px/1.1 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#0b1320;
    padding:6px 10px; border-radius:999px;
    border:1px solid var(--border-color);
    background:linear-gradient(180deg,#f8fbff,#eef6ff);
  }
  ._assump-hdg {
    margin:16px 0 6px 0;
    font:700 12px/1 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:var(--secondary-color);
    text-transform:uppercase; letter-spacing:.08em;
  }

  /* Line-item table – professional styling */
  ._breakdown {
    border:1px solid var(--border-color);
    border-radius:10px;
    overflow:visible; /* allow full table in print */
    max-height:none;
    background:#fff;
  }
  #icdce table { width:100%; border-collapse:separate; border-spacing:0; }
  #icdce thead th {
    background:linear-gradient(180deg, var(--secondary-color), #001733);
    color:#fff;
    padding:10px 12px;
    font:700 12px/1.2 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
  }
  #icdce tbody td {
    padding:8px 12px;
    font:500 12px/1.35 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#0b1320;
    border-bottom:1px solid #e9eef5;
  }
  #icdce tbody tr:nth-child(odd) td { background:#fafcff; }
  #icdce tbody tr:nth-child(even) td { background:#f6f9ff; }
  #icdce ._right { text-align:right; }

  /* Section titles */
  ._results-title {
    margin:14px 0 8px 0 !important;
    font:800 14px/1 'Roboto', system-ui, -apple-system, Segoe UI, Arial !important;
    color:var(--secondary-color) !important;
    text-transform:uppercase; letter-spacing:.08em;
  }

  /* Disclaimer */
  ._disclaimer {
    margin-top:10px;
    font:500 10.5px/1.4 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#475569;
  }

  /* Footer (single block) */
  #pdf_footer {
    display:block !important;
    margin-top:10mm;
    padding-top:6px;
    border-top:1px solid var(--border-color);
    font:500 10.5px/1.4 'Roboto', system-ui, -apple-system, Segoe UI, Arial;
    color:#475569;
  }

  /* Hide screen-only pretties */
  #icdce ._brandbar,
  #icdce ._section._project-basics,
  #icdce ._section._design-envelope,
  #icdce ._section._site-systems,
  #icdce ._section._soft-cont { display:none !important; }

  /* Show only the results area in a refined layout */
  #icdce ._results-pad { padding:0; }
}

/* When JS adds .printing (pre-print preview on screen) */
.printing #icdce ._brandbar,
.printing #icdce ._section._project-basics,
.printing #icdce ._section._design-envelope,
.printing #icdce ._section._site-systems,
.printing #icdce ._section._soft-cont { display:none !important; }
.printing #pdf_header,
.printing #pdf_footer { display:block; }
